[gd_resource type="Resource" script_class="InstitutionConfig" load_steps=2 format=3 uid="uid://b6rkw2tmqp4ns"]

[ext_resource type="Script" path="res://src/data/institution_config.gd" id="1_military"]

[resource]
script = ExtResource("1_military")
institution_id = "military_novara"
institution_name = "Armed Forces of Novara"
institution_type = 0
initial_capacity = 70.0
initial_strength = 120.0
initial_stress = 5.0
initial_influence = 25.0

stress_triggered_tree = [
	{
		"node_id": "military_stress_root",
		"title": "Command Crisis",
		"description": "Senior officers are at odds. A power struggle threatens military cohesion.",
		"conditions": {},
		"effects": {"strength": -10},
		"choices": [
			{
				"text": "Support the Traditionalists",
				"next_node": "traditional_1",
				"prunes_branches": ["reformist_1", "reformist_2"],
				"effects": {"stress": -10},
				"cost": 15,
				"requires": {}
			},
			{
				"text": "Back the Reformists",
				"next_node": "reformist_1",
				"prunes_branches": ["traditional_1", "traditional_2"],
				"effects": {"capacity": 10},
				"cost": 20,
				"requires": {}
			}
		]
	},
	{
		"node_id": "traditional_1",
		"title": "Old Guard Prevails",
		"description": "The traditionalists consolidate power. Some young officers resign.",
		"conditions": {},
		"effects": {"strength": 15},
		"choices": [
			{
				"text": "Purge the Dissenters",
				"next_node": "traditional_2",
				"prunes_branches": [],
				"effects": {"stress": -25, "capacity": -15},
				"cost": 10,
				"requires": {}
			},
			{
				"text": "Offer Reconciliation",
				"next_node": "traditional_2",
				"prunes_branches": [],
				"effects": {"stress": -15, "influence": 5},
				"cost": 15,
				"requires": {}
			}
		]
	},
	{
		"node_id": "traditional_2",
		"title": "Order Restored",
		"description": "The military hierarchy is stable again. Tradition endures.",
		"conditions": {},
		"effects": {"stress": -20, "strength": 10},
		"choices": []
	},
	{
		"node_id": "reformist_1",
		"title": "Modernization Begins",
		"description": "New doctrines are implemented. Resistance from old guard continues.",
		"conditions": {},
		"effects": {"capacity": 10},
		"choices": [
			{
				"text": "Accelerate Changes",
				"next_node": "reformist_2",
				"prunes_branches": [],
				"effects": {"stress": -20, "capacity": 15, "strength": -10},
				"cost": 30,
				"requires": {}
			},
			{
				"text": "Gradual Transition",
				"next_node": "reformist_2",
				"prunes_branches": [],
				"effects": {"stress": -15, "capacity": 5},
				"cost": 10,
				"requires": {}
			}
		]
	},
	{
		"node_id": "reformist_2",
		"title": "New Military Era",
		"description": "The transformation is complete. A modern force emerges.",
		"conditions": {},
		"effects": {"stress": -25, "capacity": 10},
		"choices": []
	}
]

randomly_triggered_tree = [
	{
		"node_id": "military_random_root",
		"title": "Border Incident",
		"description": "Patrols have reported unusual activity near the frontier. Response required.",
		"conditions": {},
		"effects": {},
		"choices": [
			{
				"text": "Increase Patrols",
				"next_node": "patrol_increase",
				"prunes_branches": ["diplomatic_response", "covert_op"],
				"effects": {"strength": 5},
				"cost": 15,
				"requires": {}
			},
			{
				"text": "Diplomatic Channels",
				"next_node": "diplomatic_response",
				"prunes_branches": ["patrol_increase", "covert_op"],
				"effects": {"influence": 10},
				"cost": 5,
				"requires": {}
			},
			{
				"text": "Covert Investigation",
				"next_node": "covert_op",
				"prunes_branches": ["patrol_increase", "diplomatic_response"],
				"effects": {"capacity": 5},
				"cost": 20,
				"requires": {}
			}
		]
	},
	{
		"node_id": "patrol_increase",
		"title": "Show of Force",
		"description": "Enhanced military presence deters further incidents. Tensions ease.",
		"conditions": {},
		"effects": {"strength": 10, "stress": -5, "influence": -5},
		"choices": []
	},
	{
		"node_id": "diplomatic_response",
		"title": "Diplomatic Resolution",
		"description": "Talks resolve the misunderstanding. Relations improve slightly.",
		"conditions": {},
		"effects": {"influence": 15, "stress": -10},
		"choices": []
	},
	{
		"node_id": "covert_op",
		"title": "Intelligence Gathered",
		"description": "Covert teams reveal the true nature of the activity. Valuable data obtained.",
		"conditions": {},
		"effects": {"capacity": 15, "influence": 5},
		"choices": []
	}
]
