[gd_resource type="Resource" script_class="InstitutionConfig" load_steps=2 format=3 uid="uid://dj5kp7nwq3lmr"]

[ext_resource type="Script" path="res://src/data/institution_config.gd" id="1_media"]

[resource]
script = ExtResource("1_media")
institution_id = "media_novara"
institution_name = "State Media of Novara"
institution_type = 1
initial_capacity = 55.0
initial_strength = 70.0
initial_stress = 20.0
initial_influence = 40.0

stress_triggered_tree = [
	{
		"node_id": "media_stress_root",
		"title": "Credibility Crisis",
		"description": "Public trust in state media has plummeted. Protests demand independent journalism.",
		"conditions": {},
		"effects": {"influence": -15},
		"choices": [
			{
				"text": "Double Down on Propaganda",
				"next_node": "propaganda_1",
				"prunes_branches": ["reform_1", "reform_2"],
				"effects": {"stress": -5},
				"cost": 10,
				"requires": {}
			},
			{
				"text": "Promise Media Reforms",
				"next_node": "reform_1",
				"prunes_branches": ["propaganda_1", "propaganda_2"],
				"effects": {"stress": -15, "capacity": -5},
				"cost": 5,
				"requires": {}
			}
		]
	},
	{
		"node_id": "propaganda_1",
		"title": "Information Warfare",
		"description": "New narratives are crafted. Counter-messaging floods all channels.",
		"conditions": {},
		"effects": {"influence": 10},
		"choices": [
			{
				"text": "Target Opposition Leaders",
				"next_node": "propaganda_2",
				"prunes_branches": [],
				"effects": {"stress": -20, "influence": 15},
				"cost": 25,
				"requires": {}
			},
			{
				"text": "Focus on National Unity",
				"next_node": "propaganda_2",
				"prunes_branches": [],
				"effects": {"stress": -15, "capacity": 5},
				"cost": 15,
				"requires": {}
			}
		]
	},
	{
		"node_id": "propaganda_2",
		"title": "Narrative Controlled",
		"description": "The message has been shaped. Public opinion shifts back.",
		"conditions": {},
		"effects": {"stress": -25, "influence": 10},
		"choices": []
	},
	{
		"node_id": "reform_1",
		"title": "Editorial Independence",
		"description": "Journalists are given more freedom. Some stories become uncomfortable.",
		"conditions": {},
		"effects": {"capacity": 10},
		"choices": [
			{
				"text": "Allow Critical Reporting",
				"next_node": "reform_2",
				"prunes_branches": [],
				"effects": {"stress": -30, "influence": -10},
				"cost": 0,
				"requires": {}
			},
			{
				"text": "Set Boundaries",
				"next_node": "reform_2",
				"prunes_branches": [],
				"effects": {"stress": -20, "capacity": 5},
				"cost": 10,
				"requires": {}
			}
		]
	},
	{
		"node_id": "reform_2",
		"title": "New Era of Media",
		"description": "The reforms take hold. A new balance is struck.",
		"conditions": {},
		"effects": {"stress": -20, "capacity": 10},
		"choices": []
	}
]

randomly_triggered_tree = [
	{
		"node_id": "media_random_root",
		"title": "Breaking Story",
		"description": "Journalists have uncovered a major story. How should it be handled?",
		"conditions": {},
		"effects": {},
		"choices": [
			{
				"text": "Publish Immediately",
				"next_node": "story_publish",
				"prunes_branches": ["story_suppress", "story_modify"],
				"effects": {"influence": 15},
				"cost": 0,
				"requires": {}
			},
			{
				"text": "Suppress the Story",
				"next_node": "story_suppress",
				"prunes_branches": ["story_publish", "story_modify"],
				"effects": {"stress": 10},
				"cost": 20,
				"requires": {}
			},
			{
				"text": "Modify the Narrative",
				"next_node": "story_modify",
				"prunes_branches": ["story_publish", "story_suppress"],
				"effects": {"capacity": 5},
				"cost": 10,
				"requires": {}
			}
		]
	},
	{
		"node_id": "story_publish",
		"title": "Truth Revealed",
		"description": "The story runs. Public reaction is intense but trust increases.",
		"conditions": {},
		"effects": {"influence": 20, "stress": -10, "capacity": 5},
		"choices": []
	},
	{
		"node_id": "story_suppress",
		"title": "Story Buried",
		"description": "The story never sees light. But whispers persist in the shadows.",
		"conditions": {},
		"effects": {"stress": 15, "capacity": -10},
		"choices": []
	},
	{
		"node_id": "story_modify",
		"title": "Controlled Release",
		"description": "A sanitized version runs. The full truth remains hidden.",
		"conditions": {},
		"effects": {"influence": 5, "capacity": -5},
		"choices": []
	}
]
